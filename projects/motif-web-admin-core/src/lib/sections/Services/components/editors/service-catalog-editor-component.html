<div class="wc-service-catalog-editor-main-container">
    <div class='wc-service-catalog-editor-title wc-truncate-text'>{{title}}</div>
    <div class='wc-service-catalog-editor-container'>

        <wc-loading-overlay [visible]='isBusy'></wc-loading-overlay>

        <div class='wc-service-catalog-editor-namespace wc-truncate-text'>{{namespace}}</div>

        <div class='wc-service-catalog-editor-commands'>
            <button kendoButton *ngIf="isDomainEditing()" 
               motif-acl="com.vipera.osgi.core.platform.api.rest.PlatformApi:UPDATE:updateDomain"
               look="flat" icon="save" class='right-button' (click)="onSaveButtonClick($event)" >Save</button>
            <button kendoButton *ngIf="isApplicationEditing()" 
                motif-acl="com.vipera.osgi.core.platform.api.rest.PlatformApi:UPDATE:updateApplication" 
                look="flat" icon="save" class='right-button' (click)="onSaveButtonClick($event)" >Save</button>
            <button kendoButton *ngIf="isServiceEditing()" 
                motif-acl="com.vipera.osgi.bss.catalog.api.rest.CatalogApi:UPDATE:updateService" 
                look="flat" icon="save" class='right-button' (click)="onSaveButtonClick($event)" >Save</button>
            <button kendoButton *ngIf="isOperationEditing()" 
                motif-acl="com.vipera.osgi.bss.catalog.api.rest.CatalogApi:UPDATE:updateServiceOperation" 
                look="flat" icon="save" class='right-button' (click)="onSaveButtonClick($event)" >Save</button>
            <button kendoButton look="flat" icon="reload" (click)='onReloadButtonClick($event)' >Reload</button>
        </div>

        <div class="wc-service-catalog-editor-scrollable-content">

            <wa-services-domain-editor  
                #domainEditor *ngIf="isDomainEditing()"
                motif-acl="com.vipera.osgi.core.platform.api.rest.PlatformApi:UPDATE:updateDomain" 
                [editorContext]="editorContext" 
                (startLoading)='isBusy=true'
                (endLoading)='isBusy=false'
                (endSaving)='onDataSaved($event);isBusy=false;'
                (startSaving)='isBusy=true'
                (endSavingWithError)='isBusy=false'
                ></wa-services-domain-editor>

            <wa-services-application-editor #applicationEditor 
            *ngIf="isApplicationEditing()"
            motif-acl="com.vipera.osgi.core.platform.api.rest.PlatformApi:UPDATE:updateApplication" 
            [editorContext]="editorContext" 
            (startLoading)='isBusy=true'
            (endLoading)='isBusy=false'
            (endSaving)='onDataSaved($event);isBusy=false;'
            (startSaving)='isBusy=true'
            (endSavingWithError)='isBusy=false'
        ></wa-services-application-editor>
            
            <wa-services-service-editor 
                #serviceEditor
                *ngIf="isServiceEditing()" 
                motif-acl="com.vipera.osgi.bss.catalog.api.rest.CatalogApi:UPDATE:updateService" 
                [editorContext]="editorContext" 
                (startLoading)='isBusy=true'
                (endLoading)='isBusy=false'
                (endSaving)='onDataSaved($event);isBusy=false;'
                (startSaving)='isBusy=true'
                (endSavingWithError)='isBusy=false'
            ></wa-services-service-editor>

            <wa-services-operation-editor 
            #operationEditor
            *ngIf="isOperationEditing()" 
            motif-acl="com.vipera.osgi.bss.catalog.api.rest.CatalogApi:UPDATE:updateServiceOperation" 
            [editorContext]="editorContext" 
            (startLoading)='isBusy=true'
            (endLoading)='isBusy=false'
            (endSaving)='onDataSaved($event);isBusy=false;'
            (startSaving)='isBusy=true'
            (endSavingWithError)='isBusy=false'
            ></wa-services-operation-editor>
        </div>
    
    </div>


</div>

